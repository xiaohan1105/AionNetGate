# ===========================================
# AionGate 2.0 环境配置
# ===========================================
# 复制此文件为 .env 并填写实际值

# ===========================================
# 服务器配置
# ===========================================
SERVER_NAME=我的永恒之塔
GATEWAY_PORT=10001

# ===========================================
# 数据库配置 (使用主机MSSQL Server)
# ===========================================
# 注意: 使用主机上已有的MSSQL数据库
# Docker容器需要能访问主机网络上的MSSQL
# Windows: 使用 host.docker.internal
# Linux: 使用 host-gateway 或实际IP地址
DB_HOST=host.docker.internal  # Windows下访问主机MSSQL
DB_PORT=1433
DB_NAME=AionGameDB            # 游戏服务器数据库名
DB_USER=sa
DB_PASSWORD=请修改为强密码

# ===========================================
# 安全密钥 (请务必修改!)
# ===========================================
# 生成方法: openssl rand -base64 32
JWT_SECRET=请运行命令生成JWT密钥
ENCRYPTION_KEY=请运行命令生成加密密钥

# ===========================================
# Redis 配置
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# 监控配置
# ===========================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=请修改为强密码

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL=info  # trace, debug, info, warn, error, fatal

# ===========================================
# 邮件配置 (用于密码重置等)
# ===========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@example.com
SMTP_PASSWORD=
SMTP_FROM=AionGate <noreply@example.com>
SMTP_TLS=true

# ===========================================
# 防御配置
# ===========================================
DEFENSE_ENABLED=true
DEFENSE_MAX_CONNECTIONS_PER_IP=5
DEFENSE_BAN_DURATION_MINUTES=30

# ===========================================
# 功能开关
# ===========================================
FEATURE_REGISTRATION=true
FEATURE_EMAIL_VERIFICATION=false
FEATURE_TWO_FACTOR_AUTH=false

# ===========================================
# 性能调优
# ===========================================
MAX_CONNECTIONS=1000
WORKER_THREADS=4
IO_THREADS=4

# ===========================================
# 开发环境配置
# ===========================================
# ASPNETCORE_ENVIRONMENT=Development
# LOG_LEVEL=debug
