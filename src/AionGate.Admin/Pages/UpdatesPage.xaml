<Page x:Class="AionGate.Admin.Pages.UpdatesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="http://schemas.modernwpf.com/2019"
      Title="ÁÉ≠Êõ¥Êñ∞ÁÆ°ÁêÜ">

    <Page.Resources>
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="{DynamicResource SystemControlBackgroundAltHighBrush}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" Opacity="0.1" BlurRadius="10" ShadowDepth="2"/>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- È°µÈù¢Ê†áÈ¢ò -->
        <TextBlock Grid.Row="0" Text="ÁÉ≠Êõ¥Êñ∞ÁÆ°ÁêÜ" FontSize="28" FontWeight="Bold" Margin="0,0,0,20"/>

        <!-- ÁªüËÆ°Âç°Áâá -->
        <UniformGrid Grid.Row="1" Rows="1" Columns="4" Margin="0,0,0,20">
            <!-- ÊúÄÊñ∞ÁâàÊú¨ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="üéØ" FontSize="32" Margin="0,0,0,8"/>
                    <TextBlock Text="ÊúÄÊñ∞ÁâàÊú¨" FontSize="14" Opacity="0.7" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TxtLatestVersion" Text="2.7.0.15" FontSize="24" FontWeight="Bold"/>
                    <TextBlock x:Name="TxtVersionFiles" Text="12,345 ‰∏™Êñá‰ª∂" FontSize="12" Opacity="0.6" Margin="0,4,0,0"/>
                </StackPanel>
            </Border>

            <!-- ‰ªäÊó•Êõ¥Êñ∞ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="üì•" FontSize="32" Margin="0,0,0,8"/>
                    <TextBlock Text="‰ªäÊó•Êõ¥Êñ∞" FontSize="14" Opacity="0.7" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TxtTodayUpdates" Text="0" FontSize="32" FontWeight="Bold"/>
                    <TextBlock x:Name="TxtUpdateSuccess" Text="ÊàêÂäüÁéá: 0%" FontSize="12" Opacity="0.6" Margin="0,4,0,0"/>
                </StackPanel>
            </Border>

            <!-- CDNÊµÅÈáè -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="üåê" FontSize="32" Margin="0,0,0,8"/>
                    <TextBlock Text="‰ªäÊó•CDNÊµÅÈáè" FontSize="14" Opacity="0.7" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TxtCdnTraffic" Text="0 GB" FontSize="32" FontWeight="Bold" Foreground="#2196F3"/>
                    <TextBlock x:Name="TxtP2PTraffic" Text="P2PÂàÜÊµÅ: 0%" FontSize="12" Opacity="0.6" Margin="0,4,0,0"/>
                </StackPanel>
            </Border>

            <!-- Âπ≥ÂùáÈÄüÂ∫¶ -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="‚ö°" FontSize="32" Margin="0,0,0,8"/>
                    <TextBlock Text="Âπ≥ÂùáÈÄüÂ∫¶" FontSize="14" Opacity="0.7" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TxtAvgSpeed" Text="0 MB/s" FontSize="32" FontWeight="Bold" Foreground="#4CAF50"/>
                </StackPanel>
            </Border>
        </UniformGrid>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <ui:TabControl Grid.Row="2">
            <!-- ÁâàÊú¨ÁÆ°ÁêÜ -->
            <ui:TabItem Header="ÁâàÊú¨ÁÆ°ÁêÜ">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Â∑•ÂÖ∑Ê†è -->
                    <Border Grid.Row="0" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12">
                                <ComboBox x:Name="CmbVersionType" Width="150">
                                    <ComboBoxItem Content="ÂÖ®ÈÉ®Á±ªÂûã" IsSelected="True"/>
                                    <ComboBoxItem Content="ÂÆåÊï¥ÂåÖ"/>
                                    <ComboBoxItem Content="Â¢ûÈáèÂåÖ"/>
                                    <ComboBoxItem Content="Ë°•‰∏ÅÂåÖ"/>
                                </ComboBox>
                                <ComboBox x:Name="CmbVersionStatus" Width="150">
                                    <ComboBoxItem Content="ÂÖ®ÈÉ®Áä∂ÊÄÅ" IsSelected="True"/>
                                    <ComboBoxItem Content="Â∑≤ÂèëÂ∏É"/>
                                    <ComboBoxItem Content="Êú™ÂèëÂ∏É"/>
                                </ComboBox>
                            </StackPanel>

                            <!-- Êìç‰ΩúÊåâÈíÆ -->
                            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                <Button Content="üìÅ Êâ´ÊèèÊ∏∏ÊàèÁõÆÂΩï" Style="{StaticResource AccentButtonStyle}" Click="ScanGameDirectory_Click"/>
                                <Button Content="‚ûï ÂàõÂª∫ÁâàÊú¨" Click="CreateVersion_Click"/>
                                <Button Content="üîÑ Âà∑Êñ∞" Click="RefreshVersions_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- ÁâàÊú¨ÂàóË°® -->
                    <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                        <DataGrid x:Name="VersionsDataGrid"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  IsReadOnly="True"
                                  SelectionMode="Single"
                                  GridLinesVisibility="Horizontal"
                                  AlternatingRowBackground="#F5F5F5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ÁâàÊú¨Âè∑" Binding="{Binding VersionCode}" Width="120"/>
                                <DataGridTextColumn Header="ÁâàÊú¨ÂêçÁß∞" Binding="{Binding VersionName}" Width="150"/>
                                <DataGridTextColumn Header="Á±ªÂûã" Binding="{Binding VersionTypeText}" Width="80"/>
                                <DataGridTextColumn Header="Êñá‰ª∂Êï∞" Binding="{Binding FileCount}" Width="80"/>
                                <DataGridTextColumn Header="ÊÄªÂ§ßÂ∞è" Binding="{Binding TotalSizeText}" Width="100"/>
                                <DataGridTextColumn Header="CDN" Binding="{Binding CdnProvider}" Width="100"/>
                                <DataGridTextColumn Header="Áä∂ÊÄÅ" Binding="{Binding StatusText}" Width="80"/>
                                <DataGridTextColumn Header="ÂàõÂª∫Êó∂Èó¥" Binding="{Binding CreatedAt, StringFormat=yyyy-MM-dd HH:mm}" Width="140"/>
                                <DataGridTemplateColumn Header="Êìç‰Ωú" Width="250">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" Spacing="4">
                                                <Button Content="üìã" ToolTip="Êü•ÁúãÊ∏ÖÂçï" Width="32" Click="ViewManifest_Click"/>
                                                <Button Content="üîó" ToolTip="ÁîüÊàêURL" Width="32" Click="GenerateUrls_Click"/>
                                                <Button Content="üì§" ToolTip="‰∏ä‰º†CDN" Width="32" Click="UploadToCdn_Click"/>
                                                <Button Content="‚úÖ" ToolTip="ÂèëÂ∏É" Width="32" Click="PublishVersion_Click"/>
                                                <Button Content="üìä" ToolTip="ÁªüËÆ°" Width="32" Click="ViewVersionStats_Click"/>
                                                <Button Content="üóëÔ∏è" ToolTip="Âà†Èô§" Width="32" Click="DeleteVersion_Click"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </ui:TabItem>

            <!-- ÁΩëÁõòÈìæÊé•ÁÆ°ÁêÜ -->
            <ui:TabItem Header="ÁΩëÁõòÈìæÊé•">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Â∑•ÂÖ∑Ê†è -->
                    <Border Grid.Row="0" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12">
                                <TextBlock Text="ÈÄâÊã©ÁâàÊú¨:" VerticalAlignment="Center" FontWeight="Bold"/>
                                <ComboBox x:Name="CmbFullPackageVersion" Width="150" DisplayMemberPath="VersionCode" SelectionChanged="FullPackageVersion_Changed"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                <Button Content="‚ûï Ê∑ªÂä†‰∏ãËΩΩÈìæÊé•" Style="{StaticResource AccentButtonStyle}" Click="AddFullPackageLink_Click"/>
                                <Button Content="üîÑ Âà∑Êñ∞" Click="RefreshFullPackageLinks_Click"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- ÁΩëÁõòÈìæÊé•ÂàóË°® -->
                    <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- ËØ¥Êòé -->
                            <Border Grid.Row="0" Background="#E3F2FD" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                                <StackPanel>
                                    <TextBlock Text="üí° ÂÆåÊï¥ÂÆ¢Êà∑Á´ØÈÄöËøáÁΩëÁõòÂàÜÂèëÔºàÈôçÊú¨Â¢ûÊïàÔºâ" FontWeight="Bold" Foreground="#1976D2" Margin="0,0,0,4"/>
                                    <TextBlock TextWrapping="Wrap" Foreground="#424242" FontSize="12">
                                        ÊîØÊåÅÁôæÂ∫¶ÁΩëÁõò„ÄÅÈòøÈáå‰∫ëÁõò„ÄÅËøÖÈõ∑‰∫ëÁõò„ÄÅ115ÁΩëÁõò„ÄÅMEGAÁ≠â„ÄÇ‰ºòÂÖàÁ∫ß‚â•90ÁöÑÈìæÊé•Â∞ÜÊòæÁ§∫‰∏∫"Êé®Ëçê"„ÄÇ
                                    </TextBlock>
                                </StackPanel>
                            </Border>

                            <!-- ÈìæÊé•ÂàóË°® -->
                            <DataGrid Grid.Row="1" x:Name="FullPackageLinksDataGrid"
                                      AutoGenerateColumns="False"
                                      CanUserAddRows="False"
                                      IsReadOnly="True"
                                      GridLinesVisibility="Horizontal"
                                      AlternatingRowBackground="#F5F5F5">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ÂåÖÂêçÁß∞" Binding="{Binding PackageName}" Width="200"/>
                                    <DataGridTextColumn Header="ÁΩëÁõòÁ±ªÂûã" Binding="{Binding TypeName}" Width="100"/>
                                    <DataGridTextColumn Header="Êñá‰ª∂Â§ßÂ∞è" Binding="{Binding FileSizeText}" Width="100"/>
                                    <DataGridTextColumn Header="ÊèêÂèñÁ†Å" Binding="{Binding VerificationCode}" Width="80"/>
                                    <DataGridTextColumn Header="Ëß£ÂéãÂØÜÁ†Å" Binding="{Binding ExtractionPassword}" Width="100"/>
                                    <DataGridTextColumn Header="‰∏ãËΩΩÊ¨°Êï∞" Binding="{Binding DownloadCount}" Width="90"/>
                                    <DataGridTextColumn Header="‰ºòÂÖàÁ∫ß" Binding="{Binding Priority}" Width="70"/>
                                    <DataGridCheckBoxColumn Header="Êé®Ëçê" Binding="{Binding IsRecommended}" Width="60" IsReadOnly="True"/>
                                    <DataGridCheckBoxColumn Header="ÂêØÁî®" Binding="{Binding IsActive}" Width="60" IsReadOnly="True"/>
                                    <DataGridTemplateColumn Header="Êìç‰Ωú" Width="150">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Spacing="4">
                                                    <Button Content="‚úèÔ∏è" ToolTip="ÁºñËæë" Width="32" Click="EditFullPackageLink_Click"/>
                                                    <Button Content="üìã" ToolTip="Â§çÂà∂ÈìæÊé•" Width="32" Click="CopyFullPackageLink_Click"/>
                                                    <Button Content="üóëÔ∏è" ToolTip="Âà†Èô§" Width="32" Click="DeleteFullPackageLink_Click"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </Border>
                </Grid>
            </ui:TabItem>

            <!-- Â¢ûÈáèÊõ¥Êñ∞ -->
            <ui:TabItem Header="Â¢ûÈáèÊõ¥Êñ∞">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Â∑•ÂÖ∑Ê†è -->
                    <Border Grid.Row="0" Style="{StaticResource CardStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <TextBlock Text="‰ªéÁâàÊú¨:" VerticalAlignment="Center" FontWeight="Bold"/>
                            <ComboBox x:Name="CmbFromVersion" Width="150" DisplayMemberPath="VersionCode"/>
                            <TextBlock Text="‚Üí" VerticalAlignment="Center" FontSize="20" FontWeight="Bold"/>
                            <TextBlock Text="Âà∞ÁâàÊú¨:" VerticalAlignment="Center" FontWeight="Bold"/>
                            <ComboBox x:Name="CmbToVersion" Width="150" DisplayMemberPath="VersionCode"/>
                            <Button Content="üîç ËÆ°ÁÆóÂ∑ÆÂºÇ" Style="{StaticResource AccentButtonStyle}" Click="CalculateDiff_Click"/>
                            <Button Content="üì¶ ÁîüÊàêÂ¢ûÈáèÂåÖ" Click="GenerateDiffPackage_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Â∑ÆÂºÇÂàóË°® -->
                    <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Â∑ÆÂºÇÁªüËÆ° -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="20" Margin="0,0,0,16">
                                <Border Background="#4CAF50" CornerRadius="4" Padding="12,8">
                                    <StackPanel>
                                        <TextBlock Text="Êñ∞Â¢ûÊñá‰ª∂" Foreground="White" FontSize="12" Opacity="0.8"/>
                                        <TextBlock x:Name="TxtNewFiles" Text="0" Foreground="White" FontSize="24" FontWeight="Bold"/>
                                    </StackPanel>
                                </Border>
                                <Border Background="#FF9800" CornerRadius="4" Padding="12,8">
                                    <StackPanel>
                                        <TextBlock Text="‰øÆÊîπÊñá‰ª∂" Foreground="White" FontSize="12" Opacity="0.8"/>
                                        <TextBlock x:Name="TxtModifiedFiles" Text="0" Foreground="White" FontSize="24" FontWeight="Bold"/>
                                    </StackPanel>
                                </Border>
                                <Border Background="#F44336" CornerRadius="4" Padding="12,8">
                                    <StackPanel>
                                        <TextBlock Text="Âà†Èô§Êñá‰ª∂" Foreground="White" FontSize="12" Opacity="0.8"/>
                                        <TextBlock x:Name="TxtDeletedFiles" Text="0" Foreground="White" FontSize="24" FontWeight="Bold"/>
                                    </StackPanel>
                                </Border>
                                <Border Background="#2196F3" CornerRadius="4" Padding="12,8">
                                    <StackPanel>
                                        <TextBlock Text="‰∏ãËΩΩÂ§ßÂ∞è" Foreground="White" FontSize="12" Opacity="0.8"/>
                                        <TextBlock x:Name="TxtDiffSize" Text="0 MB" Foreground="White" FontSize="24" FontWeight="Bold"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>

                            <!-- Â∑ÆÂºÇÊñá‰ª∂ÂàóË°® -->
                            <DataGrid Grid.Row="1" x:Name="DiffFilesDataGrid"
                                      AutoGenerateColumns="False"
                                      CanUserAddRows="False"
                                      IsReadOnly="True"
                                      GridLinesVisibility="Horizontal">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Êñá‰ª∂Ë∑ØÂæÑ" Binding="{Binding FilePath}" Width="400"/>
                                    <DataGridTextColumn Header="Êìç‰Ωú" Binding="{Binding DiffTypeText}" Width="80"/>
                                    <DataGridTextColumn Header="Â§ßÂ∞è" Binding="{Binding FileSizeText}" Width="100"/>
                                    <DataGridTextColumn Header="ÊóßHash" Binding="{Binding OldHash}" Width="150"/>
                                    <DataGridTextColumn Header="Êñ∞Hash" Binding="{Binding NewHash}" Width="150"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </Border>
                </Grid>
            </ui:TabItem>

            <!-- CDNÁÆ°ÁêÜ -->
            <ui:TabItem Header="CDNÈÖçÁΩÆ">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Â∑•ÂÖ∑Ê†è -->
                    <Border Grid.Row="0" Style="{StaticResource CardStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button Content="‚ûï Ê∑ªÂä†CDNËäÇÁÇπ" Style="{StaticResource AccentButtonStyle}" Click="AddCdnNode_Click"/>
                            <Button Content="üîÑ Âà∑Êñ∞" Click="RefreshCdnNodes_Click"/>
                            <Button Content="üß™ ÊµãËØïËøûÊé•" Click="TestCdnConnection_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- CDNËäÇÁÇπÂàóË°® -->
                    <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                        <DataGrid x:Name="CdnNodesDataGrid"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  AlternatingRowBackground="#F5F5F5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ËäÇÁÇπÂêçÁß∞" Binding="{Binding NodeName}" Width="150"/>
                                <DataGridTextColumn Header="Êèê‰æõÂïÜ" Binding="{Binding Provider}" Width="100"/>
                                <DataGridTextColumn Header="Âå∫Âüü" Binding="{Binding Region}" Width="100"/>
                                <DataGridTextColumn Header="CDNÂüüÂêç" Binding="{Binding CdnDomain}" Width="200"/>
                                <DataGridTextColumn Header="‰ºòÂÖàÁ∫ß" Binding="{Binding Priority}" Width="80"/>
                                <DataGridTextColumn Header="Â∑≤Áî®Â≠òÂÇ®" Binding="{Binding StorageUsedText}" Width="100"/>
                                <DataGridTextColumn Header="Áä∂ÊÄÅ" Binding="{Binding StatusText}" Width="80"/>
                                <DataGridTemplateColumn Header="Êìç‰Ωú" Width="150">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" Spacing="4">
                                                <Button Content="‚úèÔ∏è" ToolTip="ÁºñËæë" Width="32" Click="EditCdnNode_Click"/>
                                                <Button Content="üîå" ToolTip="ÂêØÁî®/Á¶ÅÁî®" Width="32" Click="ToggleCdnNode_Click"/>
                                                <Button Content="üìä" ToolTip="ÁªüËÆ°" Width="32" Click="ViewCdnStats_Click"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </ui:TabItem>

            <!-- Êõ¥Êñ∞Êó•Âøó -->
            <ui:TabItem Header="Êõ¥Êñ∞Êó•Âøó">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Á≠õÈÄâ -->
                    <Border Grid.Row="0" Style="{StaticResource CardStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <DatePicker Width="150"/>
                            <TextBlock Text="Ëá≥" VerticalAlignment="Center"/>
                            <DatePicker Width="150"/>
                            <ComboBox Width="120">
                                <ComboBoxItem Content="ÂÖ®ÈÉ®Áä∂ÊÄÅ" IsSelected="True"/>
                                <ComboBoxItem Content="ÊàêÂäü"/>
                                <ComboBoxItem Content="Â§±Ë¥•"/>
                                <ComboBoxItem Content="ËøõË°å‰∏≠"/>
                            </ComboBox>
                            <Button Content="üîç Êü•ËØ¢" Style="{StaticResource AccentButtonStyle}"/>
                            <Button Content="üì• ÂØºÂá∫" Click="ExportUpdateLogs_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Êó•ÂøóÂàóË°® -->
                    <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                        <DataGrid x:Name="UpdateLogsDataGrid"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  AlternatingRowBackground="#F5F5F5">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Ë¥¶Âè∑ID" Binding="{Binding AccountId}" Width="100"/>
                                <DataGridTextColumn Header="Ê∏†ÈÅì" Binding="{Binding ChannelCode}" Width="100"/>
                                <DataGridTextColumn Header="‰ªéÁâàÊú¨" Binding="{Binding FromVersion}" Width="100"/>
                                <DataGridTextColumn Header="Âà∞ÁâàÊú¨" Binding="{Binding ToVersion}" Width="100"/>
                                <DataGridTextColumn Header="Êõ¥Êñ∞Á±ªÂûã" Binding="{Binding UpdateTypeText}" Width="100"/>
                                <DataGridTextColumn Header="ËøõÂ∫¶" Binding="{Binding ProgressText}" Width="120"/>
                                <DataGridTextColumn Header="ÈÄüÂ∫¶" Binding="{Binding DownloadSpeed, StringFormat={}{0:F2} MB/s}" Width="100"/>
                                <DataGridTextColumn Header="P2PÁéá" Binding="{Binding P2PRatio, StringFormat=P0}" Width="80"/>
                                <DataGridTextColumn Header="Áä∂ÊÄÅ" Binding="{Binding StatusText}" Width="80"/>
                                <DataGridTextColumn Header="ÂºÄÂßãÊó∂Èó¥" Binding="{Binding StartedAt, StringFormat=yyyy-MM-dd HH:mm}" Width="140"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </ui:TabItem>

            <!-- Êï∞ÊçÆÁªüËÆ° -->
            <ui:TabItem Header="Êï∞ÊçÆÁªüËÆ°">
                <ScrollViewer>
                    <StackPanel Margin="16">
                        <!-- ‰ªäÊó•ÁªüËÆ° -->
                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="‰ªäÊó•Êõ¥Êñ∞ÁªüËÆ°" FontSize="20" FontWeight="Bold" Margin="0,0,0,16"/>
                                <UniformGrid Rows="1" Columns="5">
                                    <StackPanel Margin="0,0,20,0">
                                        <TextBlock Text="Êõ¥Êñ∞Ê¨°Êï∞" FontSize="12" Opacity="0.7"/>
                                        <TextBlock x:Name="TxtStatsUpdateCount" Text="0" FontSize="28" FontWeight="Bold"/>
                                    </StackPanel>
                                    <StackPanel Margin="0,0,20,0">
                                        <TextBlock Text="ÊàêÂäüÁéá" FontSize="12" Opacity="0.7"/>
                                        <TextBlock x:Name="TxtStatsSuccessRate" Text="0%" FontSize="28" FontWeight="Bold" Foreground="#4CAF50"/>
                                    </StackPanel>
                                    <StackPanel Margin="0,0,20,0">
                                        <TextBlock Text="ÊÄª‰∏ãËΩΩÈáè" FontSize="12" Opacity="0.7"/>
                                        <TextBlock x:Name="TxtStatsTotalDownloaded" Text="0 GB" FontSize="28" FontWeight="Bold" Foreground="#2196F3"/>
                                    </StackPanel>
                                    <StackPanel Margin="0,0,20,0">
                                        <TextBlock Text="Âπ≥ÂùáÈÄüÂ∫¶" FontSize="12" Opacity="0.7"/>
                                        <TextBlock x:Name="TxtStatsAvgSpeed" Text="0 MB/s" FontSize="28" FontWeight="Bold"/>
                                    </StackPanel>
                                    <StackPanel>
                                        <TextBlock Text="Âπ≥ÂùáËÄóÊó∂" FontSize="12" Opacity="0.7"/>
                                        <TextBlock x:Name="TxtStatsAvgTime" Text="0ÂàÜÈíü" FontSize="28" FontWeight="Bold"/>
                                    </StackPanel>
                                </UniformGrid>
                            </StackPanel>
                        </Border>

                        <!-- Ë∂ãÂäøÂõæË°® -->
                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="Êõ¥Êñ∞Ë∂ãÂäø" FontSize="20" FontWeight="Bold" Margin="0,0,0,16"/>
                                <TextBlock Text="ÂõæË°®Âå∫Âüü - ‰ΩøÁî® LiveCharts ÊòæÁ§∫Ë∂ãÂäø" Height="300" VerticalAlignment="Center" HorizontalAlignment="Center" Opacity="0.5"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </ui:TabItem>
        </ui:TabControl>
    </Grid>
</Page>
